/*! dxui by dxkite 2016-12-16 */
"use strict";var dxui=dxui||{version:"1.0.0"};!function(a){var b=function(a,c){return new b.constructor(a,c)};b.constructor=function(a,b){"string"==typeof a?this.elements=(b||document).querySelectorAll(a):this.elements=[a],this.context=b,this.length=this.elements.length;for(var c=0;c<this.length;c++)this[c]=this.elements[c];return this},b.extend=function(a){for(var b in a)this[b]=a[b]},b.extend({element:function(a,c,d){var e=document.createElement(a);return b(e).attr(c).css(d),e}}),b.method=b.constructor.prototype,b.method.extend=b.extend,b.method.extend({attr:function(a){return this.each(function(){if(a)for(var b in a)this.setAttribute(b,a[b])}),this},css:function(b){return this.each(function(){if(b)for(var c in b)this.style[a.cssfix(c)]=b[c]}),this},addClass:function(a){return this.each(function(){this.class+=" "+a}),this},removeClass:function(a){return this.each(function(){var b=new RegExp("/\\s+?"+a+"/");this.class.replace(b,"")}),this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],this[b],b);return this},on:function(a,b,c){return this.each(function(){this.addEventListener(a,b,c)}),this}}),a.dom=b}(dxui),!function(a){function b(b){return b=b.trim(),b="undefined"==typeof document.documentElement.style[b]?a.css_perfix+b:b}a.is_function=function(a){return"[object Function]"===Object.prototype.toString.call(a)},a.is_array=function(a){return"[object Array]"===Object.prototype.toString.call(a)},a.is_object=function(a){return"[object Object]"===Object.prototype.toString.call(a)},a.is_string=function(a){return"string"==typeof a},a.get_root_path=function(){var a=document.getElementsByTagName("script"),b=a[a.length-1].getAttribute("src");return b.substring(0,b.lastIndexOf("/"))},a.dipatch_event=function(a,b,c,d,e){var f=document.createEvent(str_cache[0]),g=void 0===typeof d||d,h=void 0===typeof e||e;return f.initCustomEvent(b,g,h,c),a.dispatchEvent(f),a["on"+b]&&is_function(a["on"+b])&&a["on"+b].call(a,f),f},a.object_copy=function(a){for(var b={},c=0;c<arguments.length;c++)for(var d in arguments[c])b[d]=arguments[c][d];return b},a.get_css_perfix=function(){var a=window.getComputedStyle(document.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms|)-/)||""===a.OLink&&["","o"])[1];return"-"+b+"-"},a.css_perfix=a.get_css_perfix(),a.cssname=function(a){return a=b(a),a=a.replace(/[A-Z]/,function(a){return"-"+a.toLowerCase()})},a.cssfix=b,window.dxui=a}(dxui),!function(a){function b(a,b){try{new Function(a)}catch(a){return"throw "+a.name+"("+e(a.message)+");{"}return b}function c(a,b){var c="";return a.match(/(?!^)\n/)?u(a.split("\n"),function(a){a&&(b&&(a=a.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),a&&(c+=q[1]+e(a)+q[2],c+="\n"))}):a&&(c+=q[1]+e(a)+q[2]),c}function d(a){var c;if(!(c=a.match(new RegExp(p))))return(c=a.match(/^!.*$/))?q[1]+"$_unit._echo("+c[1]+")"+q[2]:q[1]+"$_unit._escape("+a+")"+q[2];var d=c[1],e=c[2];switch(d){case"include":return e=e.trim().split(" "),1===e.length&&e.push("$_unit.value"),e=e.join(","),q[1]+"$_unit._include("+e+")"+q[2];case"if":return b("if("+e+"){}","if ("+e+") {");case"else":return(c=e.match(/^\s*if\s+(.*)/))?"} else if ("+c[1]+"){":"}else{";case"/if":case"/while":case"/for":return"}";case"while":return b("while("+e+"){}","while ("+e+") {");case"for":return b("for("+e+"){}","for ("+e+") {");case"each":var c=e.match(/\s*(.+?)\s+(?:(?:as(?:\s+(\w+)))?(?:\s*:\s*(\w+))?)?/);if(c){var f,g=c[1];return f=c[2]?c[3]?c[3]+","+c[2]:c[2]:"value,index","$_unit._each("+g+",function("+f+"){"}return'throw SyntaxError("Null Each Value");$_unit._each(null,function(){';case"/each":return"});"}}function e(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function f(a){return"[object Array]"===Object.prototype.toString.call(a)}function g(a,b,c,d){var a=a||"anonymous",e="DxTPL Error:";if(console.group(e),b){var f=b.replace(/^\n/,"").split("\n"),g=c-5>0?c-5:1,h=c+5>f.length?f.length:c+5;console.error(d);for(var i=g;i<h;i++)i==c?console.log(i+"|%c"+f[c-1]+"\t\t%c->\t\t%c"+d.name+":"+d.message,"color:red;","color:green;","color:red;"):console.log(i+"|"+f[i-1])}else console.log(b),console.log("%c"+e+d.message+"\t\t@"+a+":"+c,"color:red;");console.groupEnd(e)}function h(a,b){var e="";return a=a.replace(/^\n/,""),u(a.split(b.tagstart),function(a){var f=a.split(b.tagend);1===f.length?e+=c(f[0],b.compress):(e+=d(f[0]),e+=c(f[1]))}),e}function i(a,b,c){var d=void 0===c||c,e=[];e.push("var $_unit=this,"+q[0]);for(var f in b)e.push(f+"=this.value."+f);var g="";return d&&(g='"use strict";'),g+=e.join(","),g+=";",g+=a+"return new String("+q[3]+");"}function j(a,b){var c=document.querySelectorAll(a);v(c,function(c,d){var e,f=c.innerHTML,i=n;if(c.dataset.init)try{var j=new Function("return "+c.dataset.init+";");e=j()}catch(b){g(a+"["+d+"]",null,0,new Error("Unsupport json"))}if(c.dataset.config)try{var j=new Function("return "+c.dataset.config+";"),l=j();i=w(i,l)}catch(b){g(a+"["+d+"]",null,0,new Error("Unsupport json"))}e=w(e,b);var m=h(f,i);c.innerHTML=k(a,f,m,e,i.strict)})}function k(a,b,c,d,e){var f,h=i(c,d,e),j={_each:u,_echo:s,_escape:t,_include:x,value:d};try{var k=new Function(h);f=k.call(j)}catch(c){var l=new String(c.stack).match(/<anonymous>:(\d+):\d+/);if(l){var m=l[1]-1;g(a,b,m,c)}else{var a=a||"anonymous",l=new String(c.stack).match(/Function code:(\d+):\d+/);l?console.error("DxTPL:Compile Error@"+a+" Line "+l[1]):console.error("DxTPL:Compile Error@"+a)}}return f}function l(a,b){var c=document.getElementById("template_caches");c||(c=document.createElement("div"),c.id="template_caches",c.style.display="none",document.body.appendChild(c));var d="template_cache_"+a,e=document.getElementById("template_cache_"+a);return e||(e=document.createElement("div"),e.id=d,e.innerText=h(document.getElementById(a).innerHTML,b||n),c.appendChild(e)),e.innerText}function m(a,b){var c=a||b.id,d=!1;if("string"!=typeof c)throw Error("Unsupport Template ID");var e=document.getElementById(c);return e?b.source=e.innerHTML:(b.source=c,b.id="anonymous",d=!0),b.code||(b.cache&&!d?b.code=l(c,b):b.code=h(b.source,b)),b}var n={cache:!0,tagstart:"{",tagend:"}",compress:!0,strict:!0},o="if,else,each,include,while,for",p="^\\s*((?:/)?(?:"+o.split(",").join("|")+"))(.*)",q="".trim?["$_tpl_=''","$_tpl_+=",";","$_tpl_"]:["$_tpl_=[]","$_tpl_.push(",");","$_tpl_.join('')"],r={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},s=function(a){return new String(a)},t=function(a){return s(a).replace(/&(?![\w#]+;)|[<>"']/g,function(a){return r[a]})},u=function(a,b){if(f(a))v(a,b);else for(var c in a)b.call(a[c],a[c],c)},v=function(a,b){for(var c=0;c<a.length;++c)b.call(a[c],a[c],c)},w=function(a){for(var b={},c=0;c<arguments.length;c++)for(var d in arguments[c])b[d]=arguments[c][d];return b},x=function(a,b){return new y(a).render(b)},y=function(a,b){this.version="1.0.43";var c=n;"string"==typeof a?(c=w(c,b),c.id=a):c=w(c,a),this.config(c)};y.prototype.config=function(a){for(var b in a)this[b]=a[b];return this},y.prototype.assign=function(a,b){return this.value[a]=w(this.value[a],b),this},y.prototype.value=function(a){return this.value=w(this.value,a),this},y.prototype.compile=function(a){var b=w(this,m(a,this));return new y(b)},y.prototype.render=function(a){if(!this.source||!this.code){var b=m(this.id,this);this.config(b)}return k(this.id,this.source,this.code,a,this.strict)},a.dxtpl=new y,a.Template=y,a.renderTpl=j}(window),!function(a){var b=a.dom,c=function(a){this.m_node=a;var c=this;this.buildRichUI(),b(this.m_content).on("blur",function(){c.m_selection=window.getSelection(),c.setRange(c.m_selection.getRangeAt(0))})};c.prototype={getRange:function(){if(this.m_range)return this.m_range;var a=document.createRange(),c=null;return this.m_content.firstChild?c=this.m_content.firstChild:(c=b.element("p"),this.m_content.appendChild(c)),a.selectNode(c),a},setRange:function(a){this.m_range=a.cloneRange()},insertNode:function(a){var b=this.getRange();b.insertNode(a)},buildRichUI:function(){var a=this;this.m_controls=b.element("div",{class:"editor-controls"}),this.m_content=b.element("div",{contenteditable:"true",class:"editor-content"}),this.m_node.appendChild(this.m_controls),this.m_node.appendChild(this.m_content);var c=b.element("a",{href:"#"},{cursor:"pointer"});c.innerHTML="Html",this.m_controls.appendChild(c),b(c).on("click",function(){var c=prompt("url:"),d=b.element("div");d.innerHTML=c,a.insertNode(d)})}},a.Editor=c}(dxui),!function(a){a.moveable=function(a,b){var c=b||a,d=a;d.style.position="fixed";var e=function(a){a.preventDefault();var b="mousemove",e="mouseup";a.touches&&(a=a.touches[0],b="touchmove",e="touchend");var f=c.getBoundingClientRect(),g=a.clientX-f.left,h=a.clientY-f.top,i=document;d.setCapture?d.setCapture():window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);var j=function(a){a.touches&&(a=a.touches[0]);var b=a.pageX||a.clientX+document.body.scrollLeft-document.body.clientLeft,c=a.pageY||a.clientY+document.body.scrollTop-document.body.clientTop,e=b-g,f=c-h;d.style.left=e+"px",d.style.top=f+"px"},k=function(a){d.releaseCapture?d.releaseCapture():window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP),i.removeEventListener(b,j),i.removeEventListener(e,k)};i.addEventListener(b,j),i.addEventListener(e,k)};return c.addEventListener("mousedown",e),c.addEventListener("touchstart",e),d}}(dxui),!function(a){var b="Toast-Parent",c="Toast-Show",d="toast",e=1e4,f=function(a,b,c){return new f.create(a,b,c)};f.Queue=new Array,f.create=function(a,c,e){f.Parent=document.getElementById(b),f.Parent||(f.Parent=document.createElement("div"),f.Parent.id=b,document.body.appendChild(f.Parent)),f.Queue.push({message:a,timeout:c,style:e?d+"-"+e:d}),f.show()},f.show=function(){if(!document.getElementById(c)){var b=f.Queue.shift(),d=a.dom.element("div",{id:c,class:b.style});d.innerHTML=b.message,f.Parent.appendChild(d);var g=window.innerWidth/2-d.scrollWidth/2,h=window.innerHeight-2*d.scrollHeight;d.style.marginLeft=g+"px",d.style.top=h+"px";var i=b.timeout||2e3,j=function(){a.dom(d).css({transition:"opacity 0.3s ease-out",opacity:0}),setTimeout(function(){f.Parent.removeChild(d),f.Queue.length&&f.show()},300)};a.dom(d).css({position:"fixed",opacity:1,"z-index":e,transition:"opacity 0.1s ease-in"}),setTimeout(j,i)}},a.Toast=f}(dxui),!function(a){function b(a,b){}a.video_player=function(a,c){return new b(a,c)},a.VideoPlayer=b}(dxui),!function(a){var b=function(a,b,c){};b.prototype={}}(dxui);